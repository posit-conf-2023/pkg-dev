---
title: Tests ğŸ§ª
---

### Initialize test infrastructure

```{r}
use_testthat()
```

### Create test file to match our R/ file

```{r}
use_test("lib-summary")
```

### Write tests

```{r}
test_that("lib_summary returns expected results", {
  res <- lib_summary()
  expect_s3_class(res, "data.frame")
  expect_equal(ncol(res), 2)
  expect_equal(names(res), c("Library", "n_packages"))
  expect_type(res$Library, "character")
  expect_type(res$n_packages, "integer")
})

test_that("lib_summary fails appropriately", {
  expect_error(lib_summary("foo"), "unused argument")
})
```

### Test and check

```{r}
test()

check()
```
